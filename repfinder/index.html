<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>repfinder</title>
    <link rel="stylesheet" href="repfinder.css">
  </head>
  <body>
    <section id="introduction">
      <h1>repfinder</h1>
      <p>Finds repetitions in text, intended for English prose. Repetitions that are close to each other will be marked in orange. The stronger the color, the closer the repetition. You can click on a word to mark all of its occurences.</p>
      <p>This could probably be improved a bunch. The algorithm is kinda just a guess that <em>seems</em> to work, but it's not exactly scientific. Having to scroll up to update the text is pretty annoying, it would be nicer if that could be done from some kind of overlay. Maybe it would also be nice to somehow explicitly ignore repetitions, but that's pretty difficult to keep persistent other than mangling your text. It could probably also recognize obviously intentional repetitions, like when you say "over and over".</p>
    </section>
    <section id="input">
      <h2>Input</h2>
      <p>Put your text here.</p>
      <textarea id="input-area" class="want-change-listener"></textarea>
    </section>
    <section id="options">
      <button id="more-options-button" type="button">Show More Options</button>
      <div id="options-collapse">
        <h2>Stemmer</h2>
        <p>What algorithm to use to find the "stem" of words. This will try to conflate multiple forms of a word, like singular and plural, into a single thing. For more details and licenses see <a href="https://github.com/words/stemmer">stemmer</a> and <a href="https://github.com/words/lancaster-stemmer">lancaster-stemmer</a>.</p>
        <select id="stemmer-select" class="want-change-listener">
          <option value="none">No Stemmer</option>
          <option value="porter" selected>Porter Stemmer (default)</option>
          <option value="lancaster">Lancaster Stemmer</option>
        </select>
        <h2>Stopwords</h2>
        <p>These words will be ignored.</p>
        <textarea id="stopwords-area" class="want-change-listener">a able about across after all almost also am among an and any are as at be because been but by can cannot could dear did do does either else ever every for from get got had has have he he'd her hers him his how however i if in into is it it'd its just least let like likely may me might most must my neither no nor not of off often on only or other our own rather said say says she she'd should since so some than that the their them then there these they this tis to too twas us wants was we were what when where which while who whom why will with would yet you your</textarea>
        <h2>Weights</h2>
        <p>You can adjust the way the word heat is calculated here. The algorithm will count up a counter every time a word or a paragraph is encountered. The value for each word is compared with the previous one. If the value is between 0 and the stone cold weight, the word gets a heat marking.</p>
        <p>
          <input id="word-weight-field" class="want-change-listener" type="number" min="0" step="any" value="1">
          <label for="word-weight-field">word weight, added to the counter with every word</label>
        </p>
        <p>
          <input id="paragraph-weight-field" class="want-change-listener" type="number" min="0" step="any" value="50">
          <label for="paragraph-weight-field">paragraph weight, added to the counter with each paragraph break</label>
        </p>
        <p>
          <input id="stone-cold-field" class="want-change-listener" type="number" min="0" step="any" value="100">
          <label for="stone-cold-field">stone cold weight, don't mark words after this</label>
        </p>
      </div>
    </section>
    <section id="output">
      <h2>Output</h2>
    </section>
    <script src="lib/lancaster-stemmer.min.js"></script>
    <script src="lib/porter-stemmer.min.js"></script>
    <script src="repfinder.js"></script>
  </body>
</html>
